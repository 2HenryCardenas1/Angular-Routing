"use strict";(self.webpackChunkangular_routing=self.webpackChunkangular_routing||[]).push([[186],{9186:(m,u,r)=>{r.r(u),r.d(u,{CategoryModule:()=>e});var a=r(6895),p=r(4466),d=r(4546),h=r(3900),o=r(8256),l=r(4745),g=r(8306);class n{constructor(t,i){this.route=t,this.productsService=i,this.categoryId=null,this.limit=10,this.offset=0,this.products=[],this.productId=null}ngOnInit(){this.route.paramMap.pipe((0,h.w)(t=>(this.categoryId=t.get("id"),this.categoryId?this.productsService.getProductsByCategory(this.categoryId,this.limit,this.offset):[]))).subscribe({next:t=>{this.products=t}}),this.route.queryParamMap.subscribe({next:t=>{this.productId=t.get("product"),console.log(this.productId)}})}loadMore(){this.categoryId&&this.productsService.getProductsByCategory(this.categoryId,this.limit,this.offset).subscribe({next:t=>{this.products=this.products.concat(t),this.offset+=this.limit}})}}n.\u0275fac=function(t){return new(t||n)(o.Y36(d.gz),o.Y36(l.s))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-category"]],decls:1,vars:2,consts:[[3,"productId","products","onLoadMore"]],template:function(t,i){1&t&&(o.TgZ(0,"app-products",0),o.NdJ("onLoadMore",function(){return i.loadMore()}),o.qZA()),2&t&&o.Q6J("productId",i.productId)("products",i.products)},dependencies:[g.P]});const y=[{path:":id",component:n}];class s{}s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=o.oAB({type:s}),s.\u0275inj=o.cJS({imports:[d.Bz.forChild(y),d.Bz]});class e{}e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[a.ez,s,p.m]})}}]);